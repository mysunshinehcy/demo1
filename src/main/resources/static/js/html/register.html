<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link type="text/css" rel="stylesheet" href="../css/bg1.css"/>
    <style type="text/css">
        *{
            color:green;
        }
        body{
            background-image:url("../img/backgroun-1.jpeg");
        }
        .red{
            color:red;
        }
    </style>
    <script type="text/javascript" src="../jquery-3.5.1.js"></script>
    <script type="text/javascript">

        $(function(){
            $("#register").click(function(){
              const username = $("#username").val().trim();
              const password = $("#password").val().trim();
              if(username == ""){
                  alert("用户名不能为空");
                  return;
              }
              if(password == ""){
                  alert("密码不能为空");
                  return;
              }


                $.ajax({
                    type:'post',
                    url:"/demo1/user/register",
                    data:{
                        username: $("#username").val().trim(),
                        password:$("#password").val().trim()
                    },
                    success:function(data){
                       console.log("222");
                        const list = eval(data);
                        console.log("data.code+"  +list.code);
                        if(list.code == 1){

                            alert("注册成功");
                            window.location.href="login.html";
                        }else if(list.code == 0){
                            alert("注册失败");
                        }else if(list.code == 2){
                            alert("用户名已存在");
                        }else if(list.code == 3){
                            alert("用户名不能为空");

                        }else if(list.code == 4){
                            alert("密码不能为空");
                        }
                    }
                })
            })

          $("#cancel").click(function(){
                window.location.href="login.html";
          })
        })
    </script>
</head>
<body>
<div><h1>注册</h1></div>
<div>
<table>
    <tr>
        <td>用户名:</td>
        <td><input id="username"/><span class="red">*</span></td>
    </tr>
    <tr>
        <td>密码:</td>
        <td><input id="password"/><span class="red">*</span></td>
    </tr>


</table>

<button id="register">注册</button>
    <button id="cancel">取消</button>
</div>

</body>
</html>